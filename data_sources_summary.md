# 日本の競馬データソース調査結果

## 1. JRA-VAN DataLab

### 概要
- JRAシステムサービス株式会社が運営する有料サービス
- 日本中央競馬会（JRA）の子会社が提供する実質的な公式データ
- データ更新の早さと信頼性の高さが最大の特徴

### 提供データ
- レース詳細（コース、グレード、頭数、賞金、ラップタイムなど）
- 馬毎レース情報（馬番、騎手、負担重量、走破タイム、前後3Fタイム、コーナー順位、脚質など）
- 払戻情報
- オッズ・得票数
- 時系列オッズ（単複、枠連、馬連のみ）
- 競走馬マスタ
- 騎手・調教師・生産者・馬主マスタ
- 繁殖馬・産駒マスタ
- 出走別着度数
- 坂路調教
- セリ価格
- 馬体重
- 天候・馬場状態
- 騎手変更

### データ取得方法
1. 既存の競馬ソフトを使用してDBを構築またはCSV形式でデータを取得
   - メリット: 手軽にデータが取得できる
   - デメリット: 専用ソフトがサポートしているデータ種類に限定される、完全自動化が難しい

2. 開発者用API（JV-Link）を使用してデータ取得プログラムを自作
   - メリット: 自由にカスタマイズ可能、定期的な自動取得が可能
   - デメリット: Windows環境のみ対応、VC#、VC++、VB、Delphiなどの開発環境でしか動作しない

### 料金
- 月額2,052円（2017年時点）

### 特徴
- 得票数や時系列オッズを提供しているのはDataLab.だけ
- 騎手変更や天候・馬場状態などの速報データの更新が早い
- 信頼性が高い（公式データ）
- データ種類が豊富
- Windows環境のみ対応で、Python/Rとの相性が悪い

## 2. netkeiba.com

### 概要
- 株式会社ネットドリーマーズが運営する競馬総合ポータルサイト
- 無料で多くの情報が取得可能

### 提供データ
- 競馬新聞に掲載されているデータ（ほぼ無料）
- 本調教タイム（有料）
- 特別・新馬レースの厩舎コメント（有料）
- 馬場指数・タイム指数（有料）
- 馬毎掲示板（ユーザーコメント）

### データ取得方法
- ウェブスクレイピングによるデータ収集
- 環境の縛りがなく、Python、Ruby、PHPなど自分の開発しやすい言語を選べる
- GitHub上にnetkeiba-scraperなどのオープンソースツールも存在

### 料金
- 0〜934円（2017年時点）

### 特徴
- 開発環境を選ばない
- 手軽に利用できる
- スクレイピングの知識が必要
- 公式APIではないため、サイト構造の変更に弱い

## 3. JRDB

### 概要
- 独自データを多く提供している競馬データサービス
- URLを直接叩いてlzh形式に圧縮された固定長テキストデータをダウンロード

### 提供データ
- 出遅れ、不利
- レース位置取り
- 直前パドック情報（馬具変更、脚元）
- 蹄の形
- IDM（インデックスメモリー：馬場差や出遅れなどの影響を排除したスピード指数）
- 馬場差
- 芝種類・草丈・中間降水量・転圧・凍結防止剤
- 本追切データ
- 中間調教データ
- 情報・専門紙の印数
- 10時の単勝複勝オッズ

### データ取得方法
- URLを直接叩いてlzh形式に圧縮された固定長テキストデータをダウンロード
- OSXやLinuxでもコマンドライン上で解凍可能

### 料金
- 1,980〜2,480円（2017年時点）

### 特徴
- 泥臭くデータ化が難しい情報（出遅れや不利、内外の位置取り情報、蹄の形、馬具など）を提供
- 専門紙の印などから算出した基準オッズという独自に算出した想定オッズが前日に提供される
- データの豊富さと開発環境を選ばない点が強み
- Windows環境を必要としない

## 4. その他の方法

### スクレイピングによるデータ収集
- JRA公式サイト（https://www.jra.go.jp/）からのスクレイピング
- Selenium、BeautifulSoupなどを使用したスクレイピング手法
- Python、GASなどを使用した自動データ収集

### 注意点
- 各種競馬情報提供サービスからプログラムによりデータを取得する際は、利用規約を守り、サーバに負荷がかからないようにする必要がある
- スクレイピングの頻度や方法によっては、IPブロックなどの対策をされる可能性がある
- データの更新タイミングを考慮する必要がある

## 総合評価

### 信頼性
1. JRA-VAN DataLab（◎）
2. JRDB（○）
3. netkeiba.com（○）

### データ種類
1. JRDB（◎）
2. JRA-VAN DataLab（○）
3. netkeiba.com（△）

### 手軽さ
1. netkeiba.com（◎）
2. JRDB（○）
3. JRA-VAN DataLab（△）

### おすすめの人
- JRA-VAN DataLab: 本格的な運用を考える人、オッズ解析がしたい人
- netkeiba.com: 安く手軽に競馬解析をしたい人
- JRDB: 趣味〜本格的な運用をしたい人、豊富なデータで解析したい人

## 予測モデル構築のためのデータ収集方針

1. **基本方針**:
   - 初期段階では無料または低コストで利用できるnetkeiba.comからのスクレイピングを中心に実装
   - モデルの精度向上が必要な場合は、JRDBやJRA-VAN DataLabの有料データを検討

2. **収集するデータ**:
   - レース基本情報（日付、競馬場、レース番号、距離、コース種別など）
   - 出走馬情報（馬名、騎手、調教師、馬齢、性別、斤量など）
   - 過去成績（前走、前々走の成績、タイム、着差など）
   - オッズ情報（単勝、複勝など）
   - 馬体重や調教情報
   - 血統情報（可能であれば）

3. **データ収集方法**:
   - Python + Selenium + BeautifulSoupを使用したスクレイピング
   - 定期的な自動収集の仕組みを構築
   - データベースへの保存と更新の仕組みを実装

4. **注意点**:
   - サーバに負荷をかけないよう、適切な間隔でのアクセス
   - データの整合性チェックと欠損値の処理
   - 定期的なデータバックアップ
